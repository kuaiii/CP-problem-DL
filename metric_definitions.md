# 网络弹性评估指标详解

本文档详细介绍了用于评估软件定义网络（SDN）拓扑弹性与性能的四个关键指标的计算方法与物理意义。

## 1. 鲁棒性 (Robustness, R)

**定义**：
鲁棒性 $R$ 用于衡量网络在面对连续攻击（节点移除）时的结构保持能力。它反映了网络在遭受破坏过程中维持连通性的综合表现。

**计算方法**：
$R$ 的值通过计算攻击过程中最大连通子图（Largest Connected Component, LCC）大小随节点移除比例变化的曲线下的面积来确定。

$$ R = \frac{1}{N} \sum_{k=1}^{N} s(k) $$

或者更精确地使用积分（梯形法则）表示归一化后的曲线面积：

$$ R = \int_{0}^{1} \sigma(f) \, df $$

其中：
*   $N$ 是网络的初始节点总数。
*   $f$ 是已移除节点的比例 ($0 \le f \le 1$)。
*   $\sigma(f)$ 是移除比例为 $f$ 时，剩余网络中最大连通子图的相对大小（即 $\frac{\text{LCC大小}}{N}$）。

**物理意义**：
*   $R \approx 0.5$：表示网络具有理想的线性衰减特性（非常强健）。
*   $R < 0.2$：表示网络极其脆弱，移除少量节点就会导致网络迅速崩溃。
*   该指标不仅关注崩溃点，还关注崩溃的过程。

---

## 2. 控制供给可用性 (Control Supply Availability, CSA)

**定义**：
CSA 衡量了网络中交换机节点获取控制器资源的能力，特别是考虑了多路径冗余性。它反映了控制平面对数据平面的“供给”可靠性。

**计算方法**：
CSA 计算所有非控制器节点（交换机）能够访问到的控制器数量的指数衰减和的平均值。

$$ CSA = \frac{1}{|V_S|} \sum_{i \in V_S} \left( 1 - e^{-\alpha \cdot k_i} \right) $$

其中：
*   $V_S$ 是交换机节点的集合，$|V_S|$ 是交换机总数。
*   $k_i$ 是交换机 $i$ 能够连通到的控制器数量（在当前网络拓扑中可达的控制器数）。
*   $\alpha$ 是调节系数（通常取 0.5），用于控制收益递减的速率。

**物理意义**：
*   当 $k_i = 0$ 时，项为 0，表示该节点完全失去控制。
*   当 $k_i = 1$ 时，项约为 $1 - e^{-0.5} \approx 0.39$。
*   当 $k_i$ 很大时，项趋近于 1。
*   该指标鼓励每个交换机连接多个控制器（多归属），但随着连接数的增加，边际收益递减。

---

## 3. 控制熵 (Control Entropy, H_C)

**定义**：
控制熵 $H_C$ 基于信息熵的概念，用于衡量控制器负载分布的均衡性。它反映了网络控制平面的负载均衡状态和潜在的单点故障风险。

**计算方法**：
基于每个控制器“服务域”的大小计算香农熵。

$$ H_C = - \sum_{j \in V_C} p_j \ln(p_j) $$

其中：
*   $V_C$ 是控制器节点的集合。
*   $A_j$ 是控制器 $j$ 的服务域大小（即当前网络中能够连通到控制器 $j$ 的交换机节点数量）。
*   $p_j$ 是控制器 $j$ 的相对负载占比：
    $$ p_j = \frac{A_j}{\sum_{m \in V_C} A_m} $$

**物理意义**：
*   **高熵值**：表示 $p_j$ 分布均匀，即控制器的负载（可达范围）相对平衡，网络处于稳定状态，不易因单个控制器失效而导致大面积瘫痪。
*   **低熵值**：表示分布极不均匀，某些控制器承担了过多的连接任务，可能成为系统的瓶颈或脆弱点。

---

## 4. 加权控制势能 (Weighted Control Potential, WCP)

**定义**：
WCP 衡量了网络中交换机与控制器之间的通信效率，类似于物理学中的势能场。它考虑了距离对控制信号质量或延迟的影响。

**计算方法**：
计算所有交换机到所有控制器的距离倒数之和的平均值。

$$ WCP = \frac{1}{|V_S|} \sum_{i \in V_S} \sum_{j \in V_C} \frac{1}{(d_{ij})^\beta} $$

其中：
*   $d_{ij}$ 是交换机 $i$ 到控制器 $j$ 的最短路径长度（跳数或加权距离）。
*   $\beta$ 是距离衰减因子（通常取 1.0），反映距离对信号衰减的影响程度。
*   如果 $i$ 和 $j$ 不连通，则 $\frac{1}{d_{ij}} = 0$。

**物理意义**：
*   **值越大**：表示交换机距离控制器越近，且连接越紧密，控制信号传输延迟越低，网络的响应速度越快。
*   该指标综合反映了控制平面的拓扑位置优劣和传输效率。
